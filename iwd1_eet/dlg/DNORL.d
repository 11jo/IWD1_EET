BEGIN ~DNORL~

IF ~NumTimesTalkedTo(0)~ THEN BEGIN 0
  SAY @7952
  IF ~~ THEN REPLY @10780 GOTO 2
END

IF ~NumTimesTalkedToGT(0)~ THEN BEGIN 1
  SAY @10781
  IF ~Global("SPRITE_IS_DEADMarketh","GLOBAL",1)~ THEN REPLY @10782 GOTO 15
  IF ~~ THEN REPLY @10783 EXIT
END

IF ~~ THEN BEGIN 2
  SAY @10784
  IF ~~ THEN REPLY @10785 GOTO 3
  IF ~~ THEN REPLY @10786 DO ~AddJournalEntry(@34168,QUEST)~ GOTO 4
  IF ~~ THEN REPLY @10787 GOTO 5
END

IF ~~ THEN BEGIN 3
  SAY @10788
  IF ~~ THEN REPLY @10786 GOTO 4
  IF ~~ THEN REPLY @10789 GOTO 5
  IF ~Global("SPRITE_IS_DEADMarketh","GLOBAL",1)~ THEN REPLY @10794 GOTO 15
  IF ~~ THEN REPLY @10795 EXIT
END

IF ~~ THEN BEGIN 4
  SAY @10796
  IF ~~ THEN REPLY @10797 GOTO 5
  IF ~~ THEN REPLY @10785 GOTO 3
  IF ~~ THEN REPLY @10795 EXIT
END

IF ~~ THEN BEGIN 5
  SAY @10800
  IF ~~ THEN REPLY @10801 GOTO 6
  IF ~~ THEN REPLY @10795 EXIT
END

IF ~~ THEN BEGIN 6
  SAY @10804
  IF ~~ THEN REPLY @10812 GOTO 7
  IF ~~ THEN REPLY @10795 EXIT
END

IF ~~ THEN BEGIN 7
  SAY @10814
  IF ~~ THEN REPLY @10815 EXIT
END

IF ~~ THEN BEGIN 8
  SAY @10816
  IF ~~ THEN REPLY @10817 DO ~AddJournalEntry(@16530,QUEST)~ GOTO 9
  IF ~~ THEN REPLY @10818 EXIT
END

IF ~~ THEN BEGIN 9
  SAY @10819
  IF ~PartyHasItem("Portrait")~ THEN REPLY @10820 DO ~AddJournalEntry(@16028,QUEST)~ GOTO 10
  IF ~~ THEN REPLY @10821 EXIT
END

IF ~~ THEN BEGIN 10
  SAY @10822
  IF ~~ THEN REPLY @10823 DO ~TakePartyItem("Portrait")
                              SetGlobal("Marketh_Ring","GLOBAL",3)
                              SetGlobalTimer("Ring_Quest_Time","GLOBAL",7200)~ EXIT
END

IF ~~ THEN BEGIN 11
  SAY @10824
  IF ~PartyHasItem("Portrait")~ THEN REPLY @10825 DO ~AddJournalEntry(@16028,QUEST)~ GOTO 10
  IF ~~ THEN REPLY @10826 EXIT
END

IF ~~ THEN BEGIN 12
  SAY @10827
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 13
  SAY @10833
  IF ~~ THEN REPLY @10835 DO ~GiveItemCreate("RingCop",LastTalkedToBy,1,1,1)
                              SetGlobal("Marketh_Ring","GLOBAL",4)
                              AddJournalEntry(@34266,QUEST)~ EXIT
END

IF ~~ THEN BEGIN 14
  SAY @10836
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 15
  SAY @10837
  IF ~~ THEN EXIT
END
